# Стадии канбана и «Моего плана»: обзор методов

Канбан — это инструмент, который помогает визуально представить работу с задачами в виде колонок и карточек. Колонки — это стадии работы, карточки — задачи. Канбан используется для работы с задачами в группах и проектах. 

«Мой план» — это режим управления своими задачами в виде канбана. У каждого сотрудника будут свои стадии «Моего плана».

> Быстрый переход: [все методы и события](#all-methods) 
> 
> Пользовательская документация: 
>   - [Канбан: как следить за задачами в проектах](https://helpdesk.bitrix24.ru/open/18075818/)
>   - [Как работать с задачами в режиме «Мой план»](https://helpdesk.bitrix24.ru/open/17729742/)

## Связь стадий канбана и «Моего плана» с другими объектами

**Группа.** Стадия канбана привязывается к группе по идентификатору объекта `ENTITY_ID`. Идентификатор можно получить методом [создания новой группы](../../sonet-group/sonet-group-create.md) или методом [получения списка групп](../../sonet-group/socialnetwork-api-workgroup-list.md).

**Пользователь.** Стадия «Моего плана» привязана к пользователю. Любой пользователь, в том числе администратор портала, может менять стадии только в своем плане.

**Стадия.** Стадии канбана или «Моего плана» могут быть связаны друг с другом. Укажите идентификатор стадии в параметре `AFTER_ID`, после которой нужно добавить новую стадию. Идентификатор можно получить методом [добавления новой стадии](task-stages-add.md) или методом [получения списка стадий](./task-stages-get.md). Если идентификатор не заполнить или указать ноль, стадия добавится в начало канбана.

{% note tip "Пользовательская документация" %}

- [Как создать группу и проект](https://helpdesk.bitrix24.ru/open/22699004/)

{% endnote %}

## Как перемещать задачи по стадиям

Переместить задачу с одной стадии на другую можно методом [task.stages.movetask](./task-stages-move-task.md). Метод позволяет указать `ID` задачи, перед или после которой нужно поставить перемещаемую задачу. Получить идентификатор задачи можно методом [создания задачи](../tasks-task-add.md) или методом [получения списка задач](../tasks-task-list.md).

Можно переместить задачу:
- в канбане группы при наличии доступа к группе
- в «Моем плане»

Проверить возможность перемещения задачи позволяет метод [task.stages.canmovetask](./task-stages-can-move-task.md).

## Как получить список задач стадии

Список задач стадии можно получить методом [task.task.list](../tasks-task-list.md).

**Выборка из стадий канбана группы.** В массиве фильтра передайте ключ `STAGE_ID` с `ID` нужной вам стадии. Если вы выбираете задачи первой стадии, передайте в `STAGE_ID` массив значений, состоящий из `0` и `ID` вашей стадии `[0, ID]`. Дополнительно  отфильтруйте выборку по группе.

**Выборка из «Моего плана».** В массиве фильтра передайте ключ `STAGE_ID` с `ID` стадии. Передавать массив значений не требуется.

Получить идентификатор стадии канбана или «Моего плана» можно методом [добавления стадии](./task-stages-add.md) или методом [получения списка стадий](./task-stages-get.md). 

## Обзор методов {#all-methods}

> Scope: [`task`](../../scopes/permissions.md)
>
> Кто может выполнять метод:
> - любой пользователь для стадий «Моего плана»
> - любой пользователь с доступом к группе для стадий канбана

#|
|| **Метод** | **Описание** ||
|| [task.stages.add](./task-stages-add.md) | Добавляет стадии канбана или «Моего плана» ||
|| [task.stages.update](./task-stages-update.md) | Обновляет стадии канбана или «Моего плана» ||
|| [task.stages.get](./task-stages-get.md) | Получает стадии канбана или «Моего плана» ||
|| [task.stages.canmovetask](./task-stages-can-move-task.md) | Определяет, может ли текущий пользователь перемещать задачи в указанном объекте ||
|| [task.stages.movetask](./task-stages-move-task.md) | Перемещает задачи из одной стадии в другую ||
|| [task.stages.delete](./task-stages-delete.md) | Удаляет стадии канбана или «Моего плана» ||
|#
