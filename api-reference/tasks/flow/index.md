# Потоки: обзор методов

Потоки — это инструмент, который автоматизирует распределение и выполнение задач. Сотрудникам не нужно искать, кто будет делать задачу. Они ставят задачи в поток отдела, и он автоматически назначает исполнителя.

В потоке можно отслеживать эффективность выполнения задач. Эффективность рассчитывается по формуле: `<количество просроченных задач> / <количество всех задач в потоке> * 100%`. Чтобы повысить эффективность, меняйте тип распределения задач или команду потока.

> Быстрый переход: [все методы и события](#all-methods) 
> 
> Пользовательская документация: [Битрикс24 Потоки: начало работы](https://helpdesk.bitrix24.ru/open/21307026/) 

## Типы распределения

- **Ручное распределение** `manually`. Все задачи назначаются на модератора потока. Модератор распределяет задачи по сотрудникам.
- **Распределение по очереди** `queue`. Задачи назначаются по очереди каждому участнику команды. Участник будет пропущен, если он отсутствует на рабочем месте, например, в отпуске или на больничном.
- **Самостоятельное распределение** `himself`. Задачи назначаются на постановщика. Каждый участник команды потока получит уведомление. Участник потока станет исполнителем, если нажмет кнопку Взять в работу. Если задача взята в работу, система изменит статус задачи на Выполняется.

Если в команде потока с распределением по очереди или с самостоятельным распределением на рабочем месте не останется сотрудников, поток автоматически перейдет в режим ручного распределения. Администратор потока станет модератором и получит уведомление.

## Связь потока с другими объектами

**Группа.** Поток привязывается к группе по идентификатору `groupId`. Идентификатор можно получить методом [создания новой группы](../../sonet-group/sonet-group-create.md) или методом [получения списка групп](../../sonet-group/socialnetwork-api-workgroup-list.md). Если при создании потока не указать идентификатор группы, будет создана новая группа.

**Пользователь.** Поток имеет привязку к пользователю по идентификатору администратора потока `ownerId`. Получить идентификатор пользователя можно с помощью метода [user.get](../../user/user-get.md). Если при создании потока не указать идентификатор, администратором потока будет его создатель

**Шаблон задачи.** Задачи потока создаются по шаблону. Идентификатор шаблона указывается в `templateId`.

{% note tip "Пользовательская документация" %}

- [Как создать группу и проект](https://helpdesk.bitrix24.ru/open/22699004/)
- [Задачи Битрикс24](https://helpdesk.bitrix24.ru/open/17962166/)
- [Шаблоны задач](https://helpdesk.bitrix24.ru/open/17869536/)

{% endnote %}

## Как добавить задачу в поток

Добавить задачу в поток можно методом [создания новой задачи](../tasks-task-add.md) или методом [обновления существующей задачи](../tasks-task-update.md). В параметре `FLOW_ID` укажите идентификатор потока.

Битрикс24 автоматически заполнит все необходимые для потока поля в соответствии с настройками потока.

Название и исполнитель — обязательные поля при создании задачи вне потока. В случае с задачами в потоке, достаточно заполнить `FLOW_ID` и название. Исполнителя назначит поток.

{% note tip "Пользовательская документация" %}

- [Как создать и найти задачу в Потоке](https://helpdesk.bitrix24.ru/open/21307012/)

{% endnote %}

## Включить или выключить поток

Если нужно временно остановить работу с потоком, его можно выключить. Выключает и включает поток метод [tasks.flow.Flow.activate](./tasks-flow-flow-activate.md) по идентификатору `flowId`. 

Получить идентификатор потока можно методом [создания нового потока](./tasks-flow-flow-create.md) или методом [получения информации о задаче](../tasks-task-get.md) для задачи из потока.

## Проверить уникальность названия потока

Название потока должно быть уникальным. Проверить уникальность названия можно методом [tasks.flow.Flow.isExists](./tasks-flow-flow-is-exists.md).

## Обзор методов {#all-methods}

> Scope: [`task`](../../scopes/permissions.md)
>
> Кто может выполнять метод: в зависимости от метода

#|
|| **Метод** | **Описание** ||
|| [tasks.flow.Flow.create](./tasks-flow-flow-create.md) | Создать поток ||
|| [tasks.flow.Flow.update](./tasks-flow-flow-update.md) | Изменить поток ||
|| [tasks.flow.Flow.get](./tasks-flow-flow-get.md) | Получить поток ||
|| [tasks.flow.Flow.delete](./tasks-flow-flow-delete.md) | Удалить поток ||
|| [tasks.flow.Flow.isExists](./tasks-flow-flow-is-exists.md) | Проверить, существует ли поток с таким названием ||
|| [tasks.flow.Flow.activate](./tasks-flow-flow-activate.md) | Включить или выключить поток ||
|| [tasks.flow.Flow.pin](./tasks-flow-flow-pin.md) | Закрепить или открепить поток в списке ||
|#