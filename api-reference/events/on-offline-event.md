# Событие изменения очереди onOfflineEvent

{% note warning "Мы еще обновляем эту страницу" %}

Тут может не хватать некоторых данных — дополним в ближайшее время

{% endnote %}

> Кто может подписаться: любой пользователь

Событие, уведомляющее о появлении новых офлайн событий с некоторой периодичностью.

Приложение может подписаться на события 2 видов:

- Обычные: событие вызывает внешний URL и выполняется действие определяемое этим адресом.
- Офлайн: вместо вызова внешнего URL происходит локальное сохранение событий на портале, откуда потом можно забрать события методами event.offline.*.

У события onOfflineEvent по факту локального сохранения вычисляется необходимость отправки уведомления и, затем, оно отправляется как обычное событие на внешний URL.

Подробнее об офлайн событиях.

## Параметры

#|
|| **Параметр** | **Описание** | **С версии** ||
|| **minTimeout** | Таймаут в секундах. По умолчанию 1 сек. Если значения параметра:

- Если равно 0, вне зависимости от количества добавленных в офлайн очередь событий отправится только 1 событие на адрес обработчика в рамках одного хита;
- Если больше 0, то при первом срабатывании отправляет одно событие. Далее делается пауза минимум на время таймаута до отправки следующего события. | ||
|#

## Пример

```
CRest::call(
    'event.bind',
    [
        'event' => 'ONOFFLINEEVENT',
        'handler' => 'https://example.com/handler.php',
        'options' => [
            'minTimeout' => 30,
        ]
    ]
);
```

offline_event - приложение не в всегда в состоянии принимать события. Оно может скрываться за фаерволлами, жить во внутренней сети и т.д. В этом случае используется механизм офлайн-событий, когда приложение подписывается на события, но не указывает URL обработчика.

## Продолжите изучение

- [{#T}](./events.md)
- [{#T}](./event-bind.md)
- [{#T}](./event-get.md)
- [{#T}](./event-unbind.md)
- [{#T}](./safe-event-handlers.md)
- [{#T}](./offline-events.md)
- [{#T}](./event-offline-list.md)
- [{#T}](./event-offline-get.md)
- [{#T}](./event-offline-clear.md)
- [{#T}](./event-offline-error.md)