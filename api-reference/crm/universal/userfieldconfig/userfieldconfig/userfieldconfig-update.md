# Изменить значение пользовательского поля userfieldconfig.update

{% note warning "Мы еще обновляем эту страницу" %}

Тут может не хватать некоторых данных — дополним в ближайшее время

{% endnote %}

{% if build == 'dev' %}

{% note alert "TO-DO _не выгружается на prod_" %}

- не указана обязательность параметров
- отсутствует ответ в случае ошибки
- нет примеров на др. языках
  
{% endnote %}

{% endif %}

> Scope: [`userfieldconfig, scope модуля`](../../../../scopes/permissions.md)
>
> Кто может выполнять метод: любой пользователь

```http
userfieldconfig.update({moduleId: string, id: number, field: {}})
```

Метод изменяет значение поля.

## Параметры

#|
|| **Параметр** | **Описание** ||
|| **moduleId^*^** | Строковый идентификатор модуля.  | ||
|| **id^*^** | Идентификатор настроек поля.  | ||
|| **field** | Список с полями настройки нового поля. Аналогично методу userfieldconfig.add, но:
- **fieldName** - не может быть изменен
- **userTypeId** - не может быть изменен
- **entityId** - не может быть изменен
- **editInList** - не может быть изменен
- **multiple** - не может быть изменен
- **isSearchable** - изменение этого флага не вызовет автоматическое перестроение поискового индекса. Перестроение происходит при изменении сущностей, к которым привязаны поля
- **enum** - полный список всех вариантов значений для свойства типа "список". Чтобы это поле учитывалось, в fields должен присутствовать **userTypeId** 
  - id - идентификатор варианта. Должен присутствовать, если надо обновить вариант| ||
|#

{% include [Сноска о параметрах](../../../../../_includes/required.md) %}

{% note info "" %}

Будьте внимательны при работе с вариантами значений для списков.

{% endnote %}

## Возвращаемое значение и пример

Метод вернет такие же данные, как метод userfieldconfig.get на измененном поле.

### Примеры

Обновление флагов и языковых фраз, без изменения вариантов значений

```json
{
    "moduleId": "rpa",
    "id": 170,
    "field": {
        "mandatory": "Y",
        "editFormLabel": {
            "ru": "Новое название поля"
        }    
    }
}
```

Пример удаление всех вариантов значений.

```json
{
    "moduleId": "rpa",
    "id": 170,
    "field": {
        "userTypeId": "enumeration",
        "enum": [
            [""]
        ]    
    }
}
```

Пример частичного обновления вариантов значений.

```json
{
    "moduleId": "rpa",
    "id": 170,
    "field": {
        "userTypeId": "enumeration",
        "enum": [
            {
                "id": 29,
                "value": "Старое значение"
            },
            {
                "id": 30,
                "value": "Обновленное значение"
            },
            {
                "value": "Новое значение"
            }
        ]    
    }
}
```

В этом примере:
- Вариант значения с id=29 останется без изменений
- У варианта с id=30 поменяется значение
- Добавится новый вариант "Новое значение"
- Все остальные варианты будут удалены. Если передавать в запросе только id варианта без значения value — вариант будет удален

  
{% include [Сноска о примерах](../../../../../_includes/examples.md) %}

## Продолжите изучение

- [{#T}](../../../../../tutorials/crm/how-to-add-crm-objects/how-to-add-precision-to-user-field.md)
