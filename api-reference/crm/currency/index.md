# Валюты в CRM: обзор методов

Валюта в CRM который помогает работать с клиентами из разных стран. Например, основная валюта, в которой компания ведет расчеты, — рубли. В сделку менеджер добавляет товары с ценой в рублях, а клиент платит в удобной ему валюте — тенге. Менеджеру достаточно изменить валюту сделки в карточке — Битрикс автоматически посчитает стоимость товаров в тенге по заданному в настройках курсу.

> Быстрый переход: [все методы и события](#all-methods) 
> 
> Пользовательская документация: [валюты в Битрикс24](https://helpdesk.bitrix24.ru/open/6987305/)

## Связь валюты с объектами CRM

**Товары.** Стоимость товарной позиции можно указать через [методы цен](../../catalog/price/index.md). Поля всех типов цен составные — сумма и валюта изменяются отдельно. Для указания или изменения валюты используйте параметр `currency`, передавайте в него идентификатор валюты в формате `RUB`.

**Стандартное поле «Сумма и валюта».** Поле показывает сумму товаров и валюту в [сделках](../deals/index.md), [лидах](../leads/index.md), [счетах](../universal/invoice.md), [предложениях](../quote/index.md),  [смарт-процессах](../universal/index.md). Поле `Сумма и валюта` — составное, сумма и валюта изменяются отдельно. Для указания или изменения валюты используйте параметр `CURRENCY_ID`, передавайте в него идентификатор валюты в формате `RUB`.

**Пользовательское поле типа «Деньги».** Для указания или изменения значения валюты  передавайте в поле сумму и код валюты в формате `100|RUB`.

## Базовая валюта

Базовая валюта — валюта, в которой компания ведет расчеты.

* Если создать или изменить элемент CRM, не передававя код валюты, — базовая валюта устанавливается автоматически
* Если изменить валюту в поле, стоимость будет пересчитана по курсу базовой валюты

Чтобы узнать базовую валюту, используйте метод [crm.currency.base.get](./crm-currency-base-get.md). Изменить базовую валюту — метод [crm.currency.base.set](./crm-currency-base-set.md). 

## Курс валюты

Курс любой валюты в Битрикс рассчитывается по отношению к базовой валюте. 

{% note info " " %}

Когда вы изменяете базовую валюту, соотношение курсов автоматически не пересчитывается. 

{% endnote %}

Чтобы изменить курс валюты к базовой, используйте метод изменения валюты — [crm.currency.update](./crm-currency-update.md). Соотношение устанавливайте в параметре `AMOUNT`.

## Локализация валюты

Локализация валют — это правила написания чисел и расположения знака валюты на разных языках.

Для изменения или удаления настроек локализации валюты используйте группу методов [crm.currency.localizations.*](./localizations/index.md).

## Обзор методов {#all-methods}

> Scope: [`crm`](../../scopes/permissions.md)
>
> Кто может выполнять метод: зависит от метода


{% list tabs %}

- Методы

    #|
    || **Метод** | **Описание** ||
    || [crm.currency.add](./crm-currency-add.md) | Создает новую валюту ||
    || [crm.currency.update](./crm-currency-update.md) | Обновляет существующую валюту ||
    || [crm.currency.get](./crm-currency-get.md) | Возвращает валюту по символьному идентификатору ||
    || [crm.currency.list](./crm-currency-list.md) | Возвращает список валют ||
    || [crm.currency.delete](./crm-currency-delete.md) | Удаляет валюту ||
    || [crm.currency.fields](./crm-currency-fields.md) | Возвращает описание полей валюты ||
    || [crm.currency.base.get](./crm-currency-base-get.md) | Получает символьный идентификатор базовой валюты ||
    || [crm.currency.base.set](./crm-currency-base-set.md) | Меняет базовую валюту ||
    |#

- События

    #|
    || **Событие** | **Вызывается** ||
    || [onCrmCurrencyAdd](./events/on-crm-currency-add.md) | При создании валюты ||
    || [onCrmCurrencyUpdate](./events/on-crm-currency-update.md) | При обновлении валюты ||
    || [onCrmCurrencyDelete](./events/on-crm-currency-delete.md) | При удалении валюты ||
    |#

{% endlist %}


