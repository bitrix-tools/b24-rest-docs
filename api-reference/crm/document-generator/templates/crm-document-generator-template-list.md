# Получить список шаблонов документов crm.documentgenerator.template.list

{% note warning "Мы еще обновляем эту страницу" %}

Тут может не хватать некоторых данных — дополним в ближайшее время

{% endnote %}

{% if build == 'dev' %}

{% note alert "TO-DO _не выгружается на prod_" %}

- не указаны типы параметров
- не указана обязательность параметров
- отсутствуют примеры
- отсутствует ответ в случае ошибки

{% endnote %}

{% endif %}

> Scope: [`crm.documentgenerator`](../../../scopes/permissions.md)
>
> Кто может выполнять метод: любой пользователь

Метод `crm.documentgenerator.template.list` возвращает список шаблонов по фильтру.

#|
|| **Параметр** | **Описание** ||
|| **select** | Массив полей для вывода. По умолчанию выводит все поля шаблона, кроме `users` и `entityTypeId`. Чтобы они появились, надо добавить дополнительно. Например, `['*', 'entityTypeId', 'users']`. ||
|| **order** | Массив для указания порядка вывода `{"id": "desc"}`. ||
|| **filter** | Массив для фильтрации. ||
|| **start** | `offset` для постраничной навигации. ||
|#

## Примеры фильтра

```json
filter: {
    "code": "%_RU",
    "numeratorId": "2",
    "region": "by",
    "active": "Y"
}
```

В фильтр можно передать ID сущности по ключу `entityTypeId`. Сюда надо передавать код сделки с учетом фильтрации по направлениям. Однако, если нужно вернуть шаблоны, привязанные к любому направлению сделки, можно передать в фильтр.

```json
filter: {
    "entityTypeId": "2%"
}
```

Метод вернет список шаблонов с их полями.

## Ответ в случае успеха

```json
templates: {
    115: {
        "id": "115",
        "active": "Y",
        "name": "Акт (Россия)",
        "code": "ACT_RU",
        "region": "ru",
        "sort": "100",
        "createTime": "2018-06-05T13:07:12+02:00",
        "updateTime": "2018-09-06T14:26:24+02:00",
        "moduleId": "crm",
        "numeratorId": "29",
        "withStamps": "N",
        "isDeleted": "N",
        "entityTypeId": [
            "0": "4",
            "1": "3",
            "2": "2_category_0",
            "3": "2_category_1",
            "4": "5",
            "5": "1",
            "6": "14",
            "7": "7"
        ],
        "users": [
            "0": "UA"
        ]
    }
}
```