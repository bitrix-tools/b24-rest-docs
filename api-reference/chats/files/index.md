# Файлы в чатах: обзор методов

Для работы с файлами используйте группу методов `im.disk.*`.

> Быстрый переход: [все методы и события](#all-methods)

## Связь методов с другими объектами

**Чат.** Работа с файлами выполняется по идентификатору чата `CHAT_ID`. Получить идентификатор можно методом создания чата [im.chat.add](../im-chat-add.md) или получения идентификатора чата [im.chat.get](../im-chat-get.md).

**Файлы Диска.** Методы работают с файлами Диска по идентификатору файла в параметрах `DISK_ID` или `UPLOAD_ID`. Получить идентификатор файла можно методом получения списка файлов [disk.folder.getchildren](../../disk/folder/disk-folder-get-children.md) или методом загрузки файла [disk.folder.uploadfile](../../disk/folder/disk-folder-upload-file.md).

## Добавить файл в чат

Чтобы добавить файл в чат, используйте метод [im.disk.file.commit](./im-disk-file-commit). Укажите идентификатор чата `CHAT_ID` и один из параметров идентификатора файла:

-  `UPLOAD_ID` — временный идентификатор файла. Он присваивается при загрузке файла на сервер методами [модуля Диск](../../disk/index.md).
-  `DISK_ID` — идентификатор существующего файла на Диске.

Добавить несколько файлов можно с помощью массива, например, `DISK_ID: [4837, 4839, 4841]`.

## Сохранить файл на свой диск

Метод [im.disk.file.save](./im-disk-file-save.md) позволяет сохранить файл из чата на личный диск в папку Сохраненные файлы. Если папки нет, система создаст ее.

## Удалить файл

Когда файл больше не нужен, его можно удалить из папки чата с помощью метода [im.disk.file.delete](./im-disk-file-delete). В чате вместо файла отобразится текст *Сообщение удалено*.

## Получить папку хранения файлов чата

Метод [im.disk.folder.get](./im-disk-folder-get) получает идентификатор папки, в которой хранятся файлы чата. Идентификатор можно использовать в методах Диска, например:
-  загрузить файл в папку чата методом [disk.folder.uploadfile](../../disk/folder/disk-folder-upload-file.md),
-  посмотреть список файлов папки методом [disk.folder.getchildren](../../disk/folder/disk-folder-get-children.md).

## Обзор методов {#all-methods}

> Scope: [`im`](../../scopes/permissions.md)
>
> Кто может выполнять метод: любой пользователь

#|
|| **Метод** | **Описание** ||
|| [im.disk.file.commit](./im-disk-file-commit.md) | Добавляет файл в чат ||
|| [im.disk.file.save](./im-disk-file-save.md) | Сохраняет файл на свой диск ||
|| [im.disk.file.delete](./im-disk-file-delete.md) | Удаляет файл из папки чата ||
|| [im.disk.folder.get](./im-disk-folder-get.md) | Получает папку хранения файлов чата ||
|#
