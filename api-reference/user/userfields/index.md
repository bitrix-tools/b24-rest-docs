# Пользовательские поля: обзор методов

В Битрикс24 можно настраивать пользовательские поля для сотрудников. Это позволяет дополнять стандартную информацию о пользователях.

> Быстрый переход: [все методы](#all-methods) 

## Типы пользовательских полей

Для каждого пользовательского поля задается тип: Строка, Список, Число, Привязка к элементу CRM и другие. Полный перечень типов полей описан в параметре `fields` метода [user.userfield.add](./user-userfield-add.md).

{% note warning "" %}

Тип задается при создании пользовательского поля, и изменить его нельзя.

{% endnote %}

## Связь пользовательских полей с другими объектами

**Валюты.** В поле типа Деньги указывают число и валюту. Работать с валютами можно через методы [crm.currency.\*](../../crm/currency/index.md).

**Пользователь.** В пользовательском поле можно задать привязку к сотруднику. Получить идентификатор пользователя можно с помощью метода [user.get](../../user/user-get.md) и [user.search](../../user/user-search.md).

**Информационные блоки.** Пользовательские поля можно связать с [товарами](../../catalog/product/index.md), [бизнес-процессами](../../bizproc/index.md), [списками](../../lists/index.md) через типы Привязка к элементу инфоблока и Привязка к разделу инфоблока.

**Файлы.** Поле типа Файл позволяет загружать и хранить файлы. Файлы не получают идентификаторы в модуле Диск, поэтому методы Диска не применимы. Работать с файлами можно только через интерфейс Битрикс24.

**CRM.** Пользовательские поля могут быть связаны с CRM-объектами с помощью двух типов.

-  Привязка к элементам CRM — для связи с [лидами](../../crm/leads/index.md), [сделками](../../crm/deals/index.md), [контактами](../../crm/contacts/index.md) и [компаниями](../../crm/companies/index.md).

-  Привязка к справочникам CRM — для выбора из списка [справочников CRM](../../crm/status/index.md).

{% note tip "Пользовательская документация" %}

- [Как добавить пользовательские поля в профиль сотрудника](https://helpdesk.bitrix24.ru/open/25548816/)

{% endnote %}

## Ошибки при работе с пользовательскими полями

При создании или удалении пользовательских полей запрос может прерваться с ошибкой [INTERNAL_SERVER_ERROR](../../../error-codes.md). Это внутренняя ошибка сервера. Причину ошибки можно найти в логах сервера на момент выполнения запроса.

-  Облачный Битрикс24 — напишите обращение в [техническую поддержку](../../../bitrix-support.md), чтобы получить детали ошибки.

-  Коробочный Битрикс24 — запросите лог ошибок сервера у администратора сервера или хостинга. После напишите в [техническую поддержку](../../../bitrix-support.md) и приложите лог для анализа.

### Частые причины серверных ошибок

1. Для пользователей можно создать 1016 пользовательских полей — это ограничение архитектуры базы данных. Если лимит исчерпан, при попытке создать новое поле метод [user.userfield.add](./user-userfield-add.md) вернет ошибку [INTERNAL_SERVER_ERROR](../../../error-codes.md).

   Проверить количество пользовательских полей можно методом [user.userfield.list](./user-userfield-list.md).

2. На серверах есть ограничение для времени выполнения одного запроса — `max_execution_time`. Стандартное значение — 60 секунд. Если запрос выполняется дольше, он прерывается с ошибкой [INTERNAL_SERVER_ERROR](../../../error-codes.md).

   Время [создания](./user-userfield-add.md) или [удаления](./user-userfield-delete.md) пользовательского поля зависит от количества пользователей. Когда поле создается, оно добавляется во все профили сотрудников. Когда поле удаляется, оно удаляется из всех профилей. Чем меньше пользователей в вашем Битрикс24, тем быстрее будут созданы и удалены поля.

   Проверить количество пользователей в Битрикс24 можно с помощью метода [user.get](../../user/user-get.md).


## Обзор методов {#all-methods}

> Scope: [`user.userfield`](../../scopes/permissions.md)
>
> Кто может выполнять метод: в зависимости от метода

#|
|| **Метод** | **Описание** ||
|| [user.userfield.add](user-userfield-add.md) | Добавляет пользовательское поле ||
|| [user.userfield.update](user-userfield-update.md) | Обновляет пользовательское поле ||
|| [user.userfield.delete](user-userfield-delete.md) | Удаляет пользовательское поле ||
|| [user.userfield.list](user-userfield-list.md) | Получает список пользовательских полей ||
|#