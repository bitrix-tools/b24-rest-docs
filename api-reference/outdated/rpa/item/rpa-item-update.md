# Изменить элемент процессса rpa.item.update

{% note warning "Мы еще обновляем эту страницу" %}

Тут может не хватать некоторых данных — дополним в ближайшее время

{% endnote %}

{% if build == 'dev' %}

{% note alert "TO-DO _не выгружается на prod_" %}

- не указана обязательность параметров
- отсутствуют примеры
- отсутствует ответ в случае успеха
- отсутствует ответ в случае ошибки

{% endnote %}

{% endif %}

> Scope: [`rpa`](../../../scopes/permissions.md)
>
> Кто может выполнять метод: любой пользователь

Метод `rpa.item.update` обновляет элемент с идентификатором id процессса с идентификатором typeId.

#|
|| **Параметр** / **Тип** | **Описание** ||
|| **typeId** 
[`number`](../../../data-types.md) | Идентификатор процесса. ||
|| **id** 
[`number`](../../../data-types.md) | Идентификатор элемента. ||
|| **fields**^*^ 
[`array`](../../../data-types.md) | Значения пользовательских полей элемента. ||
|#

{% include [Сноска о параметрах](../../../../_includes/required.md) %}

## Параметры fields

#|
|| **Параметр** | **Описание** ||
|| **stageId** | Идентификатор стадии. ||
|| **UF_RPA_...** | Значения пользовательских полей. ||
|#

## Примеры

**Загрузить новый файл вместо старого (не множественное поле)**

Чтобы заменить файл в не множественном поле, просто загрузите новый файл. Старый будет удален автоматически

{% list tabs %}

- JS

    ```json
    {
        "fields": {
            "UF_RPA_1_1585069397": [
                "myfile.pdf", "...base64_encoded_file_content..."
            ]
        }
    }
    ```

{% endlist %}

**Удалить значение пользовательского поля типа файл**

Для этого достаточно передать пустую строку (`''`) вместо значения.

**Оставить значение не множественного поля типа файл без изменений**

Самый простой вариант - не добавлять в `fields` ключ с этим полем. Но если надо и передать, и не изменить, то в качестве значения надо передать список, где по ключу `id` будет идентификатор файла.

{% list tabs %}

- JS

    ```json
    {
        "fields": {
            "UF_RPA_1_1585069397": {
                "id": 433    
            }
        }
    }
    ```

{% endlist %}

{% note warning %}

Если в `id` передать отличное от текущего значения, то значение поля обнулится и файл будет стерт.

{% endnote %}

**Работа с множественным полем типа файл**

Значение множественного поля - это массив. Каждый элемент массива подчинается тем же правилам, что и для не множественных значений.

**Частичная перезапись значения множественного поля типа файл**

Например, сейчас в множественном поле типа файл находится значение `[12, 255, 44]`.

Необходимо оставить файла `12` и `44`, а вместо `255` загрузить новый.

Запрос должен выглядеть следующим образом:

{% list tabs %}

- JS

    ```json
    {
        "fields": {
            "UF_RPA_1_1585069397": [
                {
                    "id": 12
                },
                {
                    "id": 44
                },
                [
                    "myNewFile.pdf",
                    "...base64_encoded_file_content..."
                ]
            ]
        }
    }
    ```

{% endlist %}

{% include [Сноска о примерах](../../../../_includes/examples.md) %}
